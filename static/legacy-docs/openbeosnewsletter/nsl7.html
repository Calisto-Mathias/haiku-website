
               <html>
                    <!-- Heading -->
                    <head>
                         <title>OpenBeOS Project - Displaying Newsletter</title>
                         <meta name="Keywords" content="OpenBeOS, BeOS, OBOS, operating system, developer">
                         <meta http-equiv="Cache-Control" content="no-cache">
                         <meta http-equiv="Pragma" content="no-cache">
                    </head>
                    <!-- / Heading -->
                    <!-- Body -->
                    <body bgcolor="#ffffff" leftmargin=5 topmargin=5>

                         <!-- Top Table -->
                         <table width="100%" cellspacing=0 cellpadding=0 border=0 bgcolor="#a7afbb">

                              <!-- Logo -->
                              <tr valign="bottom"><td><img src="images/logo.png" border=0></td></tr>
                              <!-- / Logo -->

                              <!-- Slogan -->
                              <tr valign="top">
                                   <td width="100%">
                                        <img src="images/spacer.gif" height=1 width=160><img src="images/slogan.png">
                                   </td>
                              </tr>
                              <!-- / Slogan -->

                              <tr><td colspan=2><img src="images/spacer.gif" height=6 width=1></td></tr>
                         
                         </table>
                         <!-- / Top Table -->
                         
                         <!-- Main Table -->
                         <table width="100%" cellspacing=0 cellpadding=0 border=0>
                              <tr valign="top">
                              
                                                  

                                   <td width=1 bgcolor="#dddddd"><img src="images/spacer.gif" height=1 width=1></td>
                                   <td width=16 bgcolor="#ffffff"><img src="images/spacer.gif" height=1 width=15>&nbsp;</td>
                                   
                                   <!-- Content -->
                                   <td width="100%">
                                        <font size="-1" face="Verdana, Arial">
                                        
     	    	<table width="99%" cellspacing=0 cellpadding=0 border=0>
           	     <tr>
                	     <td height="12"><a name="top">&nbsp;</a><img src="images/spacer.gif" heigh="12" width=1></td>
               	</tr>
               	<tr>
                         <td>
                    	     <img src="images/N.png" align="absmiddle" border=0>
                              <img src="images/spacer.gif" height=1 width=20>
                              <font face="Verdana, Arial" size="+2" color="#331111">Displaying Newsletter<div align="right"><font size="-1"><a href="index.html">Newsletter Archive</a></font></div></font>
                              <img src="images/spacer.gif" heigh=20 width=1>
                         </td>
               	</tr>
               	<font size="-1" face="Verdana, Arial">
               	
               <tr>
                    <td><font color="#113355" face="Verdana,Arial"><b>Issue 7, 15 Dec 2001</b></font>
                         
                    </td>
               </tr>
               <tr><td height="6"><img src="images/spacer.gif" height="6"></td></tr>
               <!-- Newsletter Header Links -->
               <tr>
                    <td bgcolor=#eeeeee>
                    
                         <table width="100%" cellspacing="2" cellpadding="0" border="0">
                              <tr valign="top">
                                   <td bgcolor="#f6f6f6">
                                        <font face="verdana,arial" size="-1">
                                        <br><br>&nbsp;&nbsp;<b><font color="">In This Issue:</font></b>
                                        <ul type="square">
                                             <li><a href="#22">Exploring the infinite domain of the ignosecond</a>&nbsp; by Daniel Reinhold</li><li><a href="#24">Is there any hope for Clippy?</a>&nbsp; by Michael Phipps</li><li><a href="#23">Ufetch: a basic web client</a>&nbsp; by Daniel Reinhold</li>
                                        </ul>
                                        </font>
                                   </td>
                              </tr>
                         </table>
               
                    </td>
               </tr>
               <!-- / Newsletter Header Links -->
               
		     <!-- Newsletter Article (ID:22) -->
               <tr>
                    <td height="30"><img src="images/spacer.gif" height="30" width="1"></td>
               </tr>
               <tr>
                    <td>
                         <a name="22">&nbsp;<br></a>
                         
                         <table width="100%" cellspacing="0" cellpadding="0" border="0">
                              <tr><td bgcolor="#999999" colspan="2" height="2"><img src="images/spacer.gif" height="2"></td></tr>
                              <tr>
                                   <td height="32" width="80%">
                                        <b><font face="verdana,arial" color="#331111">Exploring the infinite domain of the ignosecond</font></b>
                                   </td>
                                   <td align="right"><font size="-1">by <a href="mailto:danielre@users.sf.net">Daniel Reinhold</a></font>&nbsp;</td>
                              </tr>
                              <tr><td bgcolor="#999999" colspan="2" height="3"><img src="images/spacer.gif" height="3"></td></tr>
                              <tr><td colspan="2" height="15"><img src="images/spacer.gif" height="15"></td></tr>
                         </table>
                         
                    </td>
               </tr>
               <tr>
                    <td>
                         <font size="-1" face="verdana,arial">
                         Just this morning, while trying to connect to a website in NetPositive, the netserver seems to be
halting, the browser window is looking frozen, and finally, the mouse stops responding. I am totally locked up.
<p>
The screen is now a snapshot of a once working and vibrant center of activity. Before my eyes is the image of a dozen windows of different sizes
splattered across the screen in unyielding stiffness. They taunt me with the memory of their former vigor. All of my work has been reduced to an
inglorious bitmap that hogs the entire surface of the monitor. Of what use is the computer in this catatonic state? It has been relegated to an
awkward and ungainly piece of furniture. Damn it!
<p>
Knowing the inevitable chain of events, I reach for the power button on the computer. By a curious coincidence understood only by multiple lightning
strike victims, at the exact precise moment that my thumb pushes in on the power button, the computer suddenly awakens. The browser window repaints
itself, bytes start downloading again, the hard disk starts buzzing away. What a recovery! A near death experience averted! Victory snatched from the
jaws of defeat!
<p>
Unfortunately, I was then stuck with two possibilities: keep my thumb depressed on the power
button and attempt to continue working with my one free hand, or let go and watch with disgust as my miraculously recovered system is shut off.
Since the first possibility was about as realistic as my sitting down at a piano and flawlessly executing a Bach sonata, I opted for the second.
Zap. Good-bye cruel system.
<p>
Yes, my friend. I was once again caught in the domain of the ignosecond.
<p>
What? You're not aware of the ignosecond? But of course you are. You are intimately acquainted. You just don't know the term. Forget the millisecond,
the microsecond, the nanosecond. That's just children playing in the park. I'm talking about a unit of time so devastating, that it defies
measurement. But oh, it exists alright.
<p>
The ignosecond is that instantaneous point in time at which your hands leaves the car door as it shuts while simultaneously you realize that the car
keys are inside. It is the moment that you click the Send button that will transmit your email masterpiece describing in uncanny detail what an a**hole
the boss is when you realize he is on the CC list. It is the moment that your lips touch the fetid white liquid just as you remember that you've
forgotten to throw out that bad carton of milk.
<p>
The ignosecond is that mysterious connection between quantum physics and cognitive science. It is the interplay between cosmology and psychology.
It is where photon meets neuron.
<p>
The domain of the ignosecond expands infinitely in all directions, built into the fabric of space-time itself. It's mathematical complexity is
exceded only by its tenacity. It attaches itself to the tendrils of your brain more securely than peanut butter to the roof of your mouth.
It's a freaky fractal of the third kind.
<p>
But enough theorizing, you protest. What can be done about it? Are there no steps that can be taken that will eliminate this dreaded
metaphysical faux pas? Should we eat more fiber? Be kinder to others? Recite 'The Love Song of J. Alfred Prufrock' repeatedly in a darkened room
filled with portly virgins?
<p>
Alas, I must tell you -- there's nothing that can be done to rid ourselves of this unwanted guest. You may as well request that pigs fly, that
politicians tell the truth, that TV sitcoms become thought-provoking and intelligent, that porn sites are developed with tasteful and restrained
html.
<p>
But you can follow some general advice that will help with so many things in so many ways:
<ul type="square">
	<li>Support the OpenBeOS Project
	<li>Drink plenty of water
	<li>Don't believe everything you read
</ul>

                         </font>
                    </td>
               </tr>
               <!-- / Newsletter Article -->
		     <!-- Newsletter Article (ID:24) -->
               <tr>
                    <td height="30"><img src="images/spacer.gif" height="30" width="1"></td>
               </tr>
               <tr>
                    <td>
                         <a name="24">&nbsp;<br></a>
                         
                         <table width="100%" cellspacing="0" cellpadding="0" border="0">
                              <tr><td bgcolor="#999999" colspan="2" height="2"><img src="images/spacer.gif" height="2"></td></tr>
                              <tr>
                                   <td height="32" width="80%">
                                        <b><font face="verdana,arial" color="#331111">Is there any hope for Clippy?</font></b>
                                   </td>
                                   <td align="right"><font size="-1">by <a href="mailto:michaelphipps@users.sf.net">Michael Phipps</a></font>&nbsp;</td>
                              </tr>
                              <tr><td bgcolor="#999999" colspan="2" height="3"><img src="images/spacer.gif" height="3"></td></tr>
                              <tr><td colspan="2" height="15"><img src="images/spacer.gif" height="15"></td></tr>
                         </table>
                         
                    </td>
               </tr>
               <tr>
                    <td>
                         <font size="-1" face="verdana,arial">
                         <em>
Pesky paperclips pretend palhood, purloin professionalism, perjure participants; prescription purported!
News at 11.
</em>
<p>
The dreaded paperclip. Undoubtedly the second fastest "feature" that people disable, right after HyperActiveDesktop (too much Java, maybe). Touted as a friendly face for MS Office, it is instead a cloying disaster. 
<p>
Why is the paperclip such a weak feature and what (if any) hope is there for Clippy?
<p>
The "Office Assistant" (OA) is the new faceplate bolted onto help for Office. You can click on OA and type quasi-natural language questions. A heuristic is used to mangle your clear question into one you didn't ask and you are rewarded 10 choices of help topics completely unrelated to the topic that you asked about. In the mean time, the OA plays all sorts of cute animations to distract/amuse you while you work. OA can also "notice" what you are doing and offer inane suggestions about things that are completely unrelated. 
<p>
Oh? That wasn't the intention? That is certainly my perception of it. I think that many others find it to be the case, as well. 
<p>
Is an OA a bad idea? Ever since "Bob", an attempt at Windows with a personality (as compared to an attitude), Microsoft has continued to attempt to anthromorphize its products. This runs the gamut from "Windows is trying to locate your hard disk. Would you like me to continue?"  to OA.
<p>
Microsoft doesn't generally waste piles of money for no good reason. It seems that their marketing department believes that this helps to sell to, or make complacent, some group of users. There is a group of users out there that believes that computers need a personality. A face to "talk" to, instead of a tool. Interestingly enough, all of the people who I have ever spoken to who like "Clippy" are female. I wonder if women's stronger social skills make them more comfortable with dealing with a computer as an equal instead of a tool.
<p>
What redeeming features, then, are there in an OA? Cute. Don't laugh - cute sells a lot. And it is endearing to some people. There is also a glimmer of usefulness, too. It ... feels helpful... to ask for help instead of going and looking for help. Not to go off on a psychological rant, but when you are frustrated, it FEELS better to "ask" for help after you have attempted all of the things that you know how to do.
<p>
Ask for help... reminds me of another fad - agents. Agents were promised to be a panacea for many things. They would scour the web for you. They would do distributed searches. They would watch the newscasts for interesting articles, then deliver them to you.
<p>
What about a combination of the two? A user interface (let's say something like Clippy, for the moment) that appears on command (a particular keypress, mouse event, whatever). You can ask it to do anything that it "knows" how to do.
<p>
For example, search the web. It would know to go to (say) Yahoo, Google, etc, trying the keywords you specify. It would combine and coalesce the results, fetch the pages and store them locally on your machine.
<p>
It could watch cspan.com for keywords of interest to you. It could interface with your PIM to give you reminders and you could tell it to add reminders. It could run jobs, a humane cron.
<p>
When the system is not busy, it could perform cleanup (write out dirty cache, for example). Maybe when the network is not busy (or in the middle of the night, for the modem dwellers among us), it could search for updates to web sites and cache them locally.
<p>
You could say "Music". It would choose an mp3 playlist and start playing. You tell it "Jazz" and you start to jam to the tunes of Miles Davis, thanks to BeFS attributes. It might me your preferred app launcher.
<p>
Maybe it could tell jokes. Maybe alert you of emergency storm weather. The possibilities seem endless. And not quite so annoying as Clippy, the help engine that couldn't.

                         </font>
                    </td>
               </tr>
               <!-- / Newsletter Article -->
		     <!-- Newsletter Article (ID:23) -->
               <tr>
                    <td height="30"><img src="images/spacer.gif" height="30" width="1"></td>
               </tr>
               <tr>
                    <td>
                         <a name="23">&nbsp;<br></a>
                         
                         <table width="100%" cellspacing="0" cellpadding="0" border="0">
                              <tr><td bgcolor="#999999" colspan="2" height="2"><img src="images/spacer.gif" height="2"></td></tr>
                              <tr>
                                   <td height="32" width="80%">
                                        <b><font face="verdana,arial" color="#331111">Ufetch: a basic web client</font></b>
                                   </td>
                                   <td align="right"><font size="-1">by <a href="mailto:danielre@users.sf.net">Daniel Reinhold</a></font>&nbsp;</td>
                              </tr>
                              <tr><td bgcolor="#999999" colspan="2" height="3"><img src="images/spacer.gif" height="3"></td></tr>
                              <tr><td colspan="2" height="15"><img src="images/spacer.gif" height="15"></td></tr>
                         </table>
                         
                    </td>
               </tr>
               <tr>
                    <td>
                         <font size="-1" face="verdana,arial">
                         The web has certainly become one of the most ubiquitous and important publishing spaces around.
What defines the web, technically, is html and http. Html is the publishing format and http is the
transport protocol.
<p>
Let's consider http. This protocol is so simple. Some would say simplistic -- it certainly has it share of detractors.
While it may not be the most sophisticated protocol around, it gets the job done.
<p>
It's a client/server protocol and, like many internet standards, is text-based. The client sends an http request and the server
responds with a reply. There are only a few commands in the repertory: 'GET', 'PUT', 'POST', and a few others.
See <a href="ftp://ftp.isi.edu/in-notes/rfc2616.txt">RFC2616</a> for all the details.
<p>
The bytes sent out across the network are composed of a header and the data (content). The header is nothing more than
a few lines of simple text. The first line contains the command, the remaining lines contain 'key: value' pairs.
If either server or client don't understand a particular key, it's ignored -- this leaves quite a bit of leeway for fun.
<p>
Normally, you never see these headers. As a counter-example, consider email. Most email clients allow you to see the
message headers if you want. This makes it more accessible to understand the mail protocol. But most web clients,
such as web browsers, never let you see this stuff. Too bad -- it can be interesting and informative.
<p>
I wrote a simple web client for just that purpose. Called <code>ufetch</code>, it's a command line utility that fetches
data from web servers. For example, in a Terminal window type:
<blockquote>
	<code>ufetch www.bebits.com</code>
</blockquote>
This will download the home page of <a href="http://www.bebits.com">BeBits</a>
and put it in a file called <em>f.data</em>. As it runs, it spits out various status info to
the screen.
<p>
You may be familiar with an similar Unix utility called <code>wget</code>. <code>wget</code> is actually more powerful,
as it will download from ftp servers as well. But <code>ufetch</code> is simpler, both in its design and its source code.
I think this makes it a spiffy tool for learning about various details of the http protocol and web client/server communication.
<p>
<code>ufetch</code> was inspired by an old BeOS Newsletter article by Benoit Schillings
called <a href="http://www-classic.be.com/aboutbe/benewsletter/volume_II/Issue40.html#Insight">Mining the Net</a>.
Benoit created a sample C++ program called <code>site_getter</code> for fetching URL resources.
I took the code, converted it to C, removed stuff I didn't need, added other stuff, tweaked, coddled, and massaged
the code to my heart's content. It is so completely modified that I don't think there's one line of code remaining
in <code>ufetch</code> from Benoit's original code. But it certainly was inspired by his work and his comments.
<p>
It's really not very hard to implement a web client. The simple text format of the headers makes them trivial to deal with.
Most of the work in <code>ufetch</code> involves establishing connections to the web servers and sending/receiving data.
Even this, however, is pretty simple because the sockets interface handles all the low-level grunge. If you are a member
of the OpenBeOS networking team, then you have the task of implementing the sockets interface. But as a network programmer,
you needn't be concerned with the details and only need to know how to use the sockets themselves.
<p>
The sockets interface was originally designed by Unix programmers at Berkeley. Which is why they are often referred
to as "berkeley sockets". This interface has been ported to other platforms such as Windows, often with many changes
and alterations. The BeOS sockets interface is very close to the BSD module, but varies slightly (most notably in that
sockets are not true file descriptors).
<p>
The semantics of socket operations is similar to file operations. You create a socket and then bind or connect it to a
network address (similar to 'open' for a file). While connected, you cand send and receive data
(like the 'read' and 'write' for files). When finished, you close the socket. You are required to know the IP address
of a remote socket in order to connect, but there are database functions for determining the IP address when given
a URL.
<p>
<br>
<b>Walking thru an example</b>
<p>
Ok, let's see how this works in practice. Consider the sample command line:<br>
<code>ufetch www.bebits.com</code>
<p>
First, the URL is split into (protocol, host, port, resource). There is no "http://" in the URL, so 'http' will be
assumed for the protocol. The host is 'www.bebits.com'. No port is specified, so it defaults to the standard web port 80.
No resource is specified either, so it defaults to '/'.
<p>
Next, the IP address of host 'www.bebits.com' is looked up using the standard network function <code>gethostbyname()</code>.
In this case, it returns 28.245.212.78 (in dotted format).
<p>
A socket is created using the <code>socket()</code> function. Then the socket is connected to the web server with
the <code>connect()</code> function using port=80 and IP=28.245.212.78. If it's unable to connect, an error message
is sent to the screen and the program exits.
<p>
The following request header is generated:
<pre>
GET / HTTP/1.1
Host: www.bebits.com
User-Agent: ufetch
Accept: */*
Connection: close
</pre>
The first line is the status line. 'GET' is the command and '/' is the requested resource. This is followed by the
http version. The remaining lines are standard header tags. The 'Accept: */*' line says to accept anything (<code>ufetch</code> is not picky).
The 'Connection: close' was added after some real world testing: HTTP 1.1 supports persistent connections (unlike 1.0),
so you need this tag to avoid a delay in terminating the connection.
<p>
This request header is sent using the <code>send()</code> function.
Then <code>recv()</code> is called to receive the reply.
A block of memory is allocated to hold the incoming data. The reply header will be the first part of this data,
followed by the data bytes for the resource. It's difficult (impossible?) to know exactly how big the header will
be, but the end of header is always easy to find -- the first blank line in the incoming stream marks the end.
<p>
Here's the header received from the BeBits server for this example:
<pre>
HTTP/1.1 200 OK
Date: Fri, 14 Dec 2001 19:29:07 GMT
Server: Apache/1.3.9 (Unix) TARP/0.42-alpha PHP/4.0.4pl1 secured_by_Raven/1.4.2
X-Powered-By: PHP/4.0.4pl1
Connection: close
Transfer-Encoding: chunked
Content-Type: text/html 
</pre>
A web client might want to parse this header into all the different tags and make use of the info. For the most
part, <code>ufetch</code> doesn't bother. The one exception is for redirects. Often a particular URL simply redirects to another
URL. In this case, the response code is 301 or 302 and there's a tag called 'Location:' that identifies the URL to
redirect to. This is the only header tag that <code>ufetch</code> cares about.
<p>
The header is sent to the screen so that it can be viewed along with the status info. The data bytes, however, are
written out to a file called <em>f.data</em>. This makes it easy to find, but it also means that each run of the program
will clobber the output of the previous run.
<p>
<code>ufetch</code> is certainly limited in what in can do. But it's loads of fun to use. You can see all kinds of interesting
info being returned by web servers. Try it and see how many web sites are sending cookies you didn't know about. Or snoop on
just what software the server is running. It might even be useful as a way to debug connections to certain troublesome servers.
Expanding <code>ufetch</code> in any number of ways would not take too much effort. Have fun.
<p>
<br><i>Source Code:</i><br>
<a href="samples/ufetch.zip">ufetch.zip</a>

                         </font>
                    </td>
               </tr>
               <!-- / Newsletter Article -->
               	</font>
               	<tr><td><img src="images/spacer.gif" width=1 height=20></td></tr>
          	</table>
                                        </font>
                                   </td>
                                   <!-- / Content -->
                                   
                                   <td width=20 bgcolor="#ffffff"><img src="images/spacer.gif" height=1 width=20>&nbsp;</td>
                                   <td width=1 bgcolor="#fcfcfc"><img src="images/spacer.gif" height=1 width=10>&nbsp;</td>
                                   
                                   
                                   
                                   <td width=10 bgcolor="#fcfcfc"><img src="images/spacer.gif" height=1 width=10>&nbsp;</td>
                                   <td width=1 bgcolor="#dddddd"><img src="images/spacer.gif" height=1 width=1></td>

                              </tr>
                              <tr><td colspan=9 height=1 bgcolor="#dddddd"><img src="images/spacer.gif" height=1 width=1></td></tr>
                         </table>
                         <!-- / Main Table -->
                         


                    </body>
                    <!-- / Body -->
                    </html>